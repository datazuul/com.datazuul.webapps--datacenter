-- Initial schema
-- no drop because we start with an empty database
-- drop table contacts;

    create table contacts (
        id bigint generated by default as identity,
        firstname varchar(255),
        lastname varchar(255),
        primary key (id)
    );

    create table emails (
        id bigint generated by default as identity,
        address varchar(255),
        type varchar(255),
        contact_id bigint,
        primary key (id)
    );

    create table phones (
        id bigint generated by default as identity,
        number varchar(255),
        type varchar(255),
        contact_id bigint,
        primary key (id)
    );

    alter table emails 
        add constraint FK_tbt3nrsy1bu75hx3i1skp0vmy 
        foreign key (contact_id) 
        references contacts;

    alter table phones 
        add constraint FK_j37vhcjwxegruxmsee5fbr113 
        foreign key (contact_id) 
        references contacts;
